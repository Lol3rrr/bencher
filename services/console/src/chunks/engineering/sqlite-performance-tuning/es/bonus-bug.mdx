import BonusBugSql from "../bonus-bug-sql.mdx";
import BonusBugSqlIssue from "../bonus-bug-sql-issue.mdx";
import BonusBugSqlFix from "../bonus-bug-sql-fix.mdx";
import BonusBugRustSchema from "../bonus-bug-rust-schema.mdx";
import BonusBugRustLeftJoin from "../bonus-bug-rust-left-join.mdx";

## Bono por Error

Originalmente ten√≠a un error en mi c√≥digo de [vista materializada][vista materializada].
As√≠ se ve√≠a la consulta SQL:


<BonusBugSql />

¬øVes el problema? No. ¬°Yo tampoco!

El problema est√° justo aqu√≠:

<BonusBugSqlIssue />

De hecho, deber√≠a ser:

<BonusBugSqlFix />

Estaba intentando ser demasiado inteligente,
y en mi esquema de vista materializada de Diesel hab√≠a permitido esta uni√≥n:

<BonusBugRustSchema />

Asum√≠ que esta macro de alguna manera era lo suficientemente inteligente
para relacionar el `alert.boundary_id` con el `metric_boundary.boundary_id`.
Pero lamentablemente, no fue as√≠.
Parece que simplemente eligi√≥ la primera columna de `metric_boundary` (`metric_id`) para relacionarla con `alert`.

Una vez que descubr√≠ el error, fue f√°cil de arreglar.
Solo tuve que usar una uni√≥n expl√≠cita en la consulta de Perf:

<BonusBugRustLeftJoin />

<br />

> üê∞ ¬°Eso es todo, amigos!

[vista materializada]: #vista-materializada